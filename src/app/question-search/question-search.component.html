<section>
    <main class="container">
       <article>
            <section>
                @if(categories$ | async; as categories) {
                    <form [formGroup]="questionSearchForm" (ngSubmit)="search()">
                        <input type="text" formControlName="amount" placeholder="Number of questions">
                        <div style="text-align: left;" *ngIf="questionSearchForm.controls.amount.hasError('invalidNumber')">
                            <section>
                                <div>
                                    *Please enter a value between 1 and 50
                                </div>
                            </section>
                        </div>    
                        <select formControlName="category">
                            <option value="0" selected>Any Category</option>
                            <option *ngFor="let category of categories.trivia_categories" [ngValue]="category.id">
                                {{category.name}}
                            </option>
                        </select>
                        <select formControlName="difficulty">
                            <option *ngFor="let difficulty of difficulties" [ngValue]="difficulty.value">
                                {{difficulty.name}}
                            </option>
                        </select>
                        <select formControlName="type">
                            <option *ngFor="let type of types" [ngValue]="type.value">
                                {{type.name}}
                            </option>
                        </select>
                        <div class="container" style="text-align: center;">
                            <button class="outline" type="submit" [disabled]="!questionSearchForm.valid">Search</button>
                        </div>
                    </form>
            } @else {
                <mat-spinner style="margin: auto;"></mat-spinner>
            }
            </section>
       </article> 
    </main>
</section>
